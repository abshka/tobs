<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Utilities &mdash; Telethon 1.42.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=a750e919"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Errors" href="errors.html" />
    <link rel="prev" title="Custom package" href="custom.html" /> 
<script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="telethon" /><meta name="readthedocs-version-slug" content="stable" /><meta name="readthedocs-resolver-filename" content="/modules/utils.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Telethon
          </a>
              <div class="version">
                1.42.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">First Steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../basic/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/signing-in.html">Signing In</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/quick-start.html">Quick-Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/updates.html">Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/next-steps.html">Next Steps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quick References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-references/faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-references/client-reference.html">Client Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-references/events-reference.html">Events Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-references/objects-reference.html">Objects Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/strings.html">String-based Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/entities.html">Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/chats-vs-channels.html">Chats vs Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/updates.html">Updates in Depth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/sessions.html">Session Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/full-api.html">The Full API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/errors.html">RPC Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/botapi-vs-mtproto.html">HTTP Bot API vs MTProto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/asyncio.html">Mastering asyncio</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Full API Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/word-of-warning.html">A Word of Warning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/chats-and-channels.html">Working with Chats and Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/users.html">Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/working-with-messages.html">Working with messages</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developing/philosophy.html">Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/test-servers.html">Test Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/project-structure.html">Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/coding-style.html">Coding Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/testing.html">Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/understanding-the-type-language.html">Understanding the Type Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/tips-for-porting-the-project.html">Tips for Porting the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/telegram-api-in-other-languages.html">Telegram API in Other Languages</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/changelog.html">Changelog (Version History)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/compatibility-and-convenience.html">Compatibility and Convenience</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Telethon Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="client.html">TelegramClient</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Update Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom.html">Custom package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.AsyncClassWrapper"><code class="docutils literal notranslate"><span class="pre">AsyncClassWrapper</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.utils.AsyncClassWrapper.__getattr__"><code class="docutils literal notranslate"><span class="pre">AsyncClassWrapper.__getattr__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.utils.AsyncClassWrapper.__weakref__"><code class="docutils literal notranslate"><span class="pre">AsyncClassWrapper.__weakref__</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.chunks"><code class="docutils literal notranslate"><span class="pre">chunks()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.decode_waveform"><code class="docutils literal notranslate"><span class="pre">decode_waveform()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.encode_waveform"><code class="docutils literal notranslate"><span class="pre">encode_waveform()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_appropriated_part_size"><code class="docutils literal notranslate"><span class="pre">get_appropriated_part_size()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_attributes"><code class="docutils literal notranslate"><span class="pre">get_attributes()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_display_name"><code class="docutils literal notranslate"><span class="pre">get_display_name()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_extension"><code class="docutils literal notranslate"><span class="pre">get_extension()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_inner_text"><code class="docutils literal notranslate"><span class="pre">get_inner_text()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_channel"><code class="docutils literal notranslate"><span class="pre">get_input_channel()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_chat_photo"><code class="docutils literal notranslate"><span class="pre">get_input_chat_photo()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_dialog"><code class="docutils literal notranslate"><span class="pre">get_input_dialog()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_document"><code class="docutils literal notranslate"><span class="pre">get_input_document()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_geo"><code class="docutils literal notranslate"><span class="pre">get_input_geo()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_group_call"><code class="docutils literal notranslate"><span class="pre">get_input_group_call()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_location"><code class="docutils literal notranslate"><span class="pre">get_input_location()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_media"><code class="docutils literal notranslate"><span class="pre">get_input_media()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_message"><code class="docutils literal notranslate"><span class="pre">get_input_message()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_peer"><code class="docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_photo"><code class="docutils literal notranslate"><span class="pre">get_input_photo()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_input_user"><code class="docutils literal notranslate"><span class="pre">get_input_user()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_message_id"><code class="docutils literal notranslate"><span class="pre">get_message_id()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_peer"><code class="docutils literal notranslate"><span class="pre">get_peer()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.get_peer_id"><code class="docutils literal notranslate"><span class="pre">get_peer_id()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.is_audio"><code class="docutils literal notranslate"><span class="pre">is_audio()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.is_gif"><code class="docutils literal notranslate"><span class="pre">is_gif()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.is_image"><code class="docutils literal notranslate"><span class="pre">is_image()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.is_list_like"><code class="docutils literal notranslate"><span class="pre">is_list_like()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.is_video"><code class="docutils literal notranslate"><span class="pre">is_video()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.maybe_async"><code class="docutils literal notranslate"><span class="pre">maybe_async()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.pack_bot_file_id"><code class="docutils literal notranslate"><span class="pre">pack_bot_file_id()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.parse_phone"><code class="docutils literal notranslate"><span class="pre">parse_phone()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.parse_username"><code class="docutils literal notranslate"><span class="pre">parse_username()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.resolve_bot_file_id"><code class="docutils literal notranslate"><span class="pre">resolve_bot_file_id()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.resolve_id"><code class="docutils literal notranslate"><span class="pre">resolve_id()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.resolve_inline_message_id"><code class="docutils literal notranslate"><span class="pre">resolve_inline_message_id()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.resolve_invite_link"><code class="docutils literal notranslate"><span class="pre">resolve_invite_link()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.sanitize_parse_mode"><code class="docutils literal notranslate"><span class="pre">sanitize_parse_mode()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.split_text"><code class="docutils literal notranslate"><span class="pre">split_text()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.utils.stripped_photo_to_jpg"><code class="docutils literal notranslate"><span class="pre">stripped_photo_to_jpg()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">API Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="network.html">Connection Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="helpers.html">Helpers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Telethon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Utilities</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="utilities">
<span id="telethon-utils"></span><h1>Utilities<a class="headerlink" href="#utilities" title="Link to this heading"></a></h1>
<p>These are the utilities that the library has to offer.</p>
<p id="module-telethon.utils">Utilities for working with the Telegram API itself (such as handy methods
to convert between an entity like a User, Chat, etc. into its Input version)</p>
<dl class="py class">
<dt class="sig sig-object py" id="telethon.utils.AsyncClassWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">AsyncClassWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrapped</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.AsyncClassWrapper" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="telethon.utils.AsyncClassWrapper.__getattr__">
<span class="sig-name descname"><span class="pre">__getattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.AsyncClassWrapper.__getattr__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.utils.AsyncClassWrapper.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.utils.AsyncClassWrapper.__weakref__" title="Link to this definition"></a></dt>
<dd><p>list of weak references to the object</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.chunks">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.chunks" title="Link to this definition"></a></dt>
<dd><p>Turns the given iterable into chunks of the specified size,
which is 100 by default since that’s what Telegram uses the most.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.decode_waveform">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">decode_waveform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waveform</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.decode_waveform" title="Link to this definition"></a></dt>
<dd><p>Inverse operation of <a class="reference internal" href="#telethon.utils.encode_waveform" title="telethon.utils.encode_waveform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">encode_waveform</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.encode_waveform">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">encode_waveform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waveform</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.encode_waveform" title="Link to this definition"></a></dt>
<dd><p>Encodes the input <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a> into a 5-bit byte-string
to be used as a voice note’s waveform. See <a class="reference internal" href="#telethon.utils.decode_waveform" title="telethon.utils.decode_waveform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decode_waveform</span></code></a>
for the reverse operation.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chat</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;my.ogg&#39;</span>

<span class="c1"># Send &#39;my.ogg&#39; with a ascending-triangle waveform</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="p">[</span><span class="n">types</span><span class="o">.</span><span class="n">DocumentAttributeAudio</span><span class="p">(</span>
    <span class="n">duration</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">voice</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">waveform</span><span class="o">=</span><span class="n">utils</span><span class="o">.</span><span class="n">encode_waveform</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">5</span><span class="p">))</span>  <span class="c1"># 2**5 because 5-bit</span>
<span class="p">)]</span>

<span class="c1"># Send &#39;my.ogg&#39; with a square waveform</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="p">[</span><span class="n">types</span><span class="o">.</span><span class="n">DocumentAttributeAudio</span><span class="p">(</span>
    <span class="n">duration</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">voice</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">waveform</span><span class="o">=</span><span class="n">utils</span><span class="o">.</span><span class="n">encode_waveform</span><span class="p">(</span><span class="nb">bytes</span><span class="p">((</span><span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">)]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_appropriated_part_size">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_appropriated_part_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_appropriated_part_size" title="Link to this definition"></a></dt>
<dd><p>Gets the appropriated part size when uploading or downloading files,
given an initial file size.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_attributes">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_document</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice_note</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">video_note</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supports_streaming</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thumb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_attributes" title="Link to this definition"></a></dt>
<dd><p>Get a list of attributes for the given file and
the mime type as a tuple ([attribute], mime_type).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_display_name">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_display_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_display_name" title="Link to this definition"></a></dt>
<dd><p>Gets the display name for the given <a class="reference external" href="https://tl.telethon.dev/?q=User">User</a>,
<a class="reference external" href="https://tl.telethon.dev/?q=Chat">Chat</a> or <a class="reference external" href="https://tl.telethon.dev/?q=Channel">Channel</a>. Returns an empty string otherwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_extension">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_extension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">media</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_extension" title="Link to this definition"></a></dt>
<dd><p>Gets the corresponding extension for any Telegram media.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_inner_text">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_inner_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entities</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_inner_text" title="Link to this definition"></a></dt>
<dd><p>Gets the inner text that’s surrounded by the given entities.
For instance: text = ‘hey!’, entity = MessageEntityBold(2, 2) -&gt; ‘y!’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – the original text.</p></li>
<li><p><strong>entities</strong> – the entity or entities that must be matched.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a single result or a list of the text surrounded by the entities.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_channel">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_channel" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for <a class="reference external" href="https://tl.telethon.dev/?q=InputChannel">InputChannel</a>’s alone.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This method does not validate for invalid general-purpose access
hashes, unlike <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_input_peer</span></code></a>. Consider using instead:
<code class="docutils literal notranslate"><span class="pre">get_input_channel(get_input_peer(channel))</span></code>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_chat_photo">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_chat_photo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">photo</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_chat_photo" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for chat photos</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_dialog">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_dialog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialog</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_dialog" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for dialogs</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_document">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">document</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_document" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for documents</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_geo">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_geo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geo</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_geo" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for geo points</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_group_call">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_group_call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">call</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_group_call" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for input calls.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_location">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_location" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for input messages.</p>
<p>Note that this returns a tuple <code class="docutils literal notranslate"><span class="pre">(dc_id,</span> <span class="pre">location)</span></code>, the
<code class="docutils literal notranslate"><span class="pre">dc_id</span></code> being present if known.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_media">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_media</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">media</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_photo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_document</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice_note</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">video_note</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supports_streaming</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_media" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for media.</p>
<p>If the media is <a class="reference external" href="https://tl.telethon.dev/?q=InputFile">InputFile</a> and <code class="docutils literal notranslate"><span class="pre">is_photo</span></code> is known to be <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>,
it will be treated as an <a class="reference external" href="https://tl.telethon.dev/?q=InputMediaUploadedPhoto">InputMediaUploadedPhoto</a>. Else, the rest
of parameters will indicate how to treat it.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_message">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_message" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for input messages.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_peer">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_peer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_self</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_hash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_peer" title="Link to this definition"></a></dt>
<dd><p>Gets the input peer for the given “entity” (user, chat or channel).</p>
<p>A <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> is raised if the given entity isn’t a supported type
or if <code class="docutils literal notranslate"><span class="pre">check_hash</span> <span class="pre">is</span> <span class="pre">True</span></code> but the entity’s <code class="docutils literal notranslate"><span class="pre">access_hash</span> <span class="pre">is</span> <span class="pre">None</span></code>
<em>or</em> the entity contains <code class="docutils literal notranslate"><span class="pre">min</span></code> information. In this case, the hash
cannot be used for general purposes, and thus is not returned to avoid
any issues which can derive from invalid access hashes.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">check_hash</span></code> <strong>is ignored</strong> if an input peer is already
passed since in that case we assume the user knows what they’re doing.
This is key to getting entities by explicitly passing <code class="docutils literal notranslate"><span class="pre">hash</span> <span class="pre">=</span> <span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_photo">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_photo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">photo</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_photo" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for photos</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_input_user">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_input_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_input_user" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for <a class="reference external" href="https://tl.telethon.dev/?q=InputUser">InputUser</a>’s alone.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This method does not validate for invalid general-purpose access
hashes, unlike <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_input_peer</span></code></a>. Consider using instead:
<code class="docutils literal notranslate"><span class="pre">get_input_channel(get_input_peer(channel))</span></code>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_message_id">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_message_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_message_id" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#telethon.utils.get_input_peer" title="telethon.utils.get_input_peer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_input_peer()</span></code></a>, but for message IDs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_peer">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_peer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_peer" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.get_peer_id">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">get_peer_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_mark</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.get_peer_id" title="Link to this definition"></a></dt>
<dd><p>Convert the given peer into its marked ID by default.</p>
<p>This “mark” comes from the “bot api” format, and with it the peer type
can be identified back. User ID is left unmodified, chat ID is negated,
and channel ID is “prefixed” with -100:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">user_id</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-chat_id</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-100channel_id</span></code></p></li>
</ul>
<p>The original ID and the peer type class can be returned with
a call to <code class="xref py py-meth docutils literal notranslate"><span class="pre">resolve_id(marked_id)()</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.is_audio">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">is_audio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.is_audio" title="Link to this definition"></a></dt>
<dd><p>Returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the file has an audio mime type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.is_gif">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">is_gif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.is_gif" title="Link to this definition"></a></dt>
<dd><p>Returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the file extension looks like a gif file to Telegram.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.is_image">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">is_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.is_image" title="Link to this definition"></a></dt>
<dd><p>Returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the file extension looks like an image file to Telegram.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.is_list_like">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">is_list_like</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.is_list_like" title="Link to this definition"></a></dt>
<dd><p>Returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the given object looks like a list.</p>
<p>Checking <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">hasattr(obj,</span> <span class="pre">'__iter__')</span></code> and ignoring <code class="docutils literal notranslate"><span class="pre">str/bytes</span></code> is not
enough. Things like <code class="docutils literal notranslate"><span class="pre">open()</span></code> are also iterable (and probably many
other things), so just support the commonly known list-like objects.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.is_video">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">is_video</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.is_video" title="Link to this definition"></a></dt>
<dd><p>Returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the file has a video mime type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.maybe_async">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">maybe_async</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coro</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.maybe_async" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.pack_bot_file_id">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">pack_bot_file_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.pack_bot_file_id" title="Link to this definition"></a></dt>
<dd><p>Inverse operation for <a class="reference internal" href="#telethon.utils.resolve_bot_file_id" title="telethon.utils.resolve_bot_file_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resolve_bot_file_id</span></code></a>.</p>
<p>The only parameters this method will accept are <a class="reference external" href="https://tl.telethon.dev/?q=Document">Document</a> and
<a class="reference external" href="https://tl.telethon.dev/?q=Photo">Photo</a>, and it will return a variable-length <code class="docutils literal notranslate"><span class="pre">file_id</span></code> string.</p>
<p>If an invalid parameter is given, it will <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.parse_phone">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">parse_phone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.parse_phone" title="Link to this definition"></a></dt>
<dd><p>Parses the given phone, or returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if it’s invalid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.parse_username">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">parse_username</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.parse_username" title="Link to this definition"></a></dt>
<dd><p>Parses the given username or channel access hash, given
a string, username or URL. Returns a tuple consisting of
both the stripped, lowercase username and whether it is
a joinchat/ hash (in which case is not lowercase’d).</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">False)</span></code> if the <code class="docutils literal notranslate"><span class="pre">username</span></code> or link is not valid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.resolve_bot_file_id">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">resolve_bot_file_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.resolve_bot_file_id" title="Link to this definition"></a></dt>
<dd><p>Given a Bot API-style <a class="reference internal" href="custom.html#telethon.tl.custom.file.File.id" title="telethon.tl.custom.file.File.id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">file_id</span></code></a>,
returns the media it represents. If the <a class="reference internal" href="custom.html#telethon.tl.custom.file.File.id" title="telethon.tl.custom.file.File.id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">file_id</span></code></a>
is not valid, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> is returned instead.</p>
<p>Note that the <a class="reference internal" href="custom.html#telethon.tl.custom.file.File.id" title="telethon.tl.custom.file.File.id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">file_id</span></code></a> does not have information
such as image dimensions or file size, so these will be zero if present.</p>
<p>For thumbnails, the photo ID and hash will always be zero.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.resolve_id">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">resolve_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">marked_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.resolve_id" title="Link to this definition"></a></dt>
<dd><p>Given a marked ID, returns the original ID and its <a class="reference external" href="https://tl.telethon.dev/?q=Peer">Peer</a> type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.resolve_inline_message_id">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">resolve_inline_message_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inline_msg_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.resolve_inline_message_id" title="Link to this definition"></a></dt>
<dd><p>Resolves an inline message ID. Returns a tuple of
<code class="docutils literal notranslate"><span class="pre">(message</span> <span class="pre">id,</span> <span class="pre">peer,</span> <span class="pre">dc</span> <span class="pre">id,</span> <span class="pre">access</span> <span class="pre">hash)</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">peer</span></code> may either be a <a class="reference external" href="https://tl.telethon.dev/?q=PeerUser">PeerUser</a> referencing
the user who sent the message via the bot in a private
conversation or small group chat, or a <a class="reference external" href="https://tl.telethon.dev/?q=PeerChannel">PeerChannel</a>
if the message was sent in a channel.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">access_hash</span></code> does not have any use yet.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.resolve_invite_link">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">resolve_invite_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.resolve_invite_link" title="Link to this definition"></a></dt>
<dd><p>Resolves the given invite link. Returns a tuple of
<code class="docutils literal notranslate"><span class="pre">(link</span> <span class="pre">creator</span> <span class="pre">user</span> <span class="pre">id,</span> <span class="pre">global</span> <span class="pre">chat</span> <span class="pre">id,</span> <span class="pre">random</span> <span class="pre">int)</span></code>.</p>
<p>Note that for broadcast channels or with the newest link format, the link
creator user ID will be zero to protect their identity. Normal chats and
megagroup channels will have such ID.</p>
<p>Note that the chat ID may not be accurate for chats with a link that were
upgraded to megagroup, since the link can remain the same, but the chat
ID will be correct once a new link is generated.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.sanitize_parse_mode">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">sanitize_parse_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.sanitize_parse_mode" title="Link to this definition"></a></dt>
<dd><p>Converts the given parse mode into an object with
<code class="docutils literal notranslate"><span class="pre">parse</span></code> and <code class="docutils literal notranslate"><span class="pre">unparse</span></code> callable properties.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.split_text">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">split_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entities</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4096</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_entities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('\\n',</span> <span class="pre">'\\s',</span> <span class="pre">'.')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.split_text" title="Link to this definition"></a></dt>
<dd><p>Split a message text and entities into multiple messages, each with their
own set of entities. This allows sending a very large message as multiple
messages while respecting the formatting.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>text (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>):</dt><dd><p>The message text.</p>
</dd>
<dt>entities (List[<a class="reference external" href="https://tl.telethon.dev/?q=MessageEntity">MessageEntity</a>])</dt><dd><p>The formatting entities.</p>
</dd>
<dt>limit (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>):</dt><dd><p>The maximum message length of each individual message.</p>
</dd>
<dt>max_entities (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>):</dt><dd><p>The maximum amount of entities that will be present in each
individual message.</p>
</dd>
<dt>split_at (Tuplel[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>]):</dt><dd><p>The list of regular expressions that will determine where to split
the text. By default, a newline is searched. If no newline is
present, a space is searched. If no space is found, the split will
be made at any character.</p>
<p>The last expression should always match a character, or else the
text will stop being splitted and the resulting text may be larger
than the limit.</p>
</dd>
</dl>
</dd>
<dt>Yields</dt><dd><p>Pairs of <code class="docutils literal notranslate"><span class="pre">(str,</span> <span class="pre">entities)</span></code> with the split message.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">telethon</span><span class="w"> </span><span class="kn">import</span> <span class="n">utils</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">telethon.extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">markdown</span>

<span class="n">very_long_markdown_text</span> <span class="o">=</span> <span class="s2">&quot;...&quot;</span>
<span class="n">text</span><span class="p">,</span> <span class="n">entities</span> <span class="o">=</span> <span class="n">markdown</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">very_long_markdown_text</span><span class="p">)</span>

<span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">entities</span> <span class="ow">in</span> <span class="n">utils</span><span class="o">.</span><span class="n">split_text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">entities</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">formatting_entities</span><span class="o">=</span><span class="n">entities</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="telethon.utils.stripped_photo_to_jpg">
<span class="sig-prename descclassname"><span class="pre">telethon.utils.</span></span><span class="sig-name descname"><span class="pre">stripped_photo_to_jpg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stripped</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.utils.stripped_photo_to_jpg" title="Link to this definition"></a></dt>
<dd><p>Adds the JPG header and footer to a stripped image.</p>
<p>Ported from <a class="reference external" href="https://github.com/telegramdesktop/tdesktop/blob/bec39d89e19670eb436dc794a8f20b657cb87c71/Telegram/SourceFiles/ui/image/image.cpp#L225">https://github.com/telegramdesktop/tdesktop/blob/bec39d89e19670eb436dc794a8f20b657cb87c71/Telegram/SourceFiles/ui/image/image.cpp#L225</a></p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="custom.html" class="btn btn-neutral float-left" title="Custom package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="errors.html" class="btn btn-neutral float-right" title="API Errors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017 - 2019, Lonami.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>